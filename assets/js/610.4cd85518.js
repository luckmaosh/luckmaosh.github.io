(window.webpackJsonp=window.webpackJsonp||[]).push([[610],{2042:function(s,a,n){"use strict";n.r(a);var e=n(5),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"web播放器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web播放器"}},[s._v("#")]),s._v(" web播放器")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/125553.html?spm=a2c4g.11186623.6.1083.7d2d1bc7a1jwFb",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://help.aliyun.com/document_detail/125553.html?spm=a2c4g.11186623.6.1083.7d2d1bc7a1jwFb"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("STS(Security Token Service) 的播放流程 (临时授权)\nSTS是一个安全凭证（Token）的管理系统，用来授予临时的访问权限，这样就可以通过STS来完成对于临时用户的访问授权。详情参见 STS介绍。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/0082zybpgy1gbzc5xmxk5j30rf0hu77n.jpg",alt:""}})]),s._v(" "),a("ul",[a("li",[s._v("PlayAuth的播放流程 (播放凭证)\n流程：用户App获取上传凭证 > 服务端下发上传凭证 > 用户上传视频并获取vid > 服务端获取播放凭证 > 将播放凭证下发给客户端 > 完成视频播放。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/0082zybpgy1gbzc7i9n6nj30nt0h0q4j.jpg",alt:""}})]),s._v(" "),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/125553.html?spm=a2c4g.11186623.6.1083.7d2d1bc7a1jwFb",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"上传凭证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传凭证"}},[s._v("#")]),s._v(" 上传凭证")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/55407.html?spm=a2c4g.11186623.6.709.2df3480fmNnx8C",target:"_blank",rel:"noopener noreferrer"}},[s._v("获取上传凭证"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http://vod.cn-shanghai.aliyuncs.com/?Action=CreateUploadVideo&Title=exampleTitle&FileName=example.avi&FileSize=10485760&Format=JSON&<公共参数>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("返回")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n "RequestId": "25818875-5F78-4A13-BEF6-D7393642CA58",\n "VideoId": "93ab850b4f6f44eab54b6e91d24d81d4",\n "UploadAddress": "eyJTZWN1cml0eVRva2VuIjoiQ0FJU3p3TjF",\n "UploadAuth": "eyJFbmRwb2ludCI6Im"\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/101396.html?spm=a2c4g.11186623.2.34.3101257e79vfgZ#CreateUploadVideo",target:"_blank",rel:"noopener noreferrer"}},[s._v("code"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("通过uploadAuth和uploadAddress上传  "),a("a",{attrs:{href:"https://help.aliyun.com/document_detail/99889.html?spm=a2c4g.11186623.6.1050.3c5b6bd14ZdJlr",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/51992.html?spm=a2c4g.11186623.2.41.15896bd1oai8iH",target:"_blank",rel:"noopener noreferrer"}},[s._v("sdk下载"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\n  \x3c!--  IE需要es6-promise --\x3e\n    <script src="../lib/es6-promise.min.js"><\/script>\n    <script src="../lib/aliyun-oss-sdk5.2.0.min.js"><\/script>\n    <script src="../aliyun-vod-upload-sdk1.4.0.min.js"><\/script>\n    \n    javascript代码\n    \nvar uploader = new AliyunUpload.Vod({\n    partSize: 1048576,//分片大小默认1M，不能小于100K\n       parallel: 5,//并行上传分片个数，默认5\n    retryCount: 3,//网络原因失败时，重新上传次数，默认为3\n    retryDuration: 2,//网络原因失败时，重新上传间隔时间，默认为2秒\n    \'onUploadstarted\': function (uploadInfo) {\n          uploader.setUploadAuthAndAddress(\n              uploadInfo, \n            uploadAuth, \n            uploadAddress,\n            videoId);\n    }\n    …… //其他回调\n});\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("整体流程\n"),a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/0082zybply1gc1hdi5iwqj30cb097gnt.jpg",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"播放凭证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#播放凭证"}},[s._v("#")]),s._v(" 播放凭证")]),s._v(" "),a("p",[s._v("拿视频去获取播放凭证，然后再播放")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://help.aliyun.com/document_detail/52833.html?spm=a2c4g.11186623.2.15.3321142aWmx65J",target:"_blank",rel:"noopener noreferrer"}},[s._v("获取播放凭证"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"阿里播放器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里播放器"}},[s._v("#")]),s._v(" 阿里播放器")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://yq.aliyun.com/articles/241608?spm=5176.10695662.1996646101.searchclickresult.29006743SOiMob&aly_as=s1g1kUmZ",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://yq.aliyun.com/articles/241608?spm=5176.10695662.1996646101.searchclickresult.29006743SOiMob&aly_as=s1g1kUmZ\n"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"直接播放url实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#直接播放url实例"}},[s._v("#")]),s._v(" 直接播放url实例")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<body>\n    <div id="J_prismPlayer" class="prism-player"></div>   \x3c!-- prism-player为h5播放器皮肤的钩子类名，请务必加上 --\x3e\n    <script>\n        var videoUrl=""; //获取的视频地址\n        // 初始化播放器\n        var player = new Aliplayer({\n            id: "J_prismPlayer", // 容器id\n            source: videoUrl,        // 视频url\n            width: "100%",       // 播放器宽度\n            height: "400px"      // 播放器高度\n        });\n    <\/script>\n</body>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"vid播放实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vid播放实例"}},[s._v("#")]),s._v(" vid播放实例")]),s._v(" "),a("p",[s._v("通过设置视频vid和播放凭证playauth参数播放阿里云视频点播服务中托管的视频")]),s._v(" "),a("p",[s._v("如何接入点播服务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<body>\n    //播放器容器\n    <div id='J_prismPlayer' class='prism-player'>   \x3c!-- prism-player为h5播放器皮肤的钩子类名，请务必加上 --\x3e\n    //播放器初始化代码\n    <script>\n          var player = new Aliplayer({\n              id: \"J_prismPlayer\", // 容器id\n              vid : '1e067a2831b641db90d570b6480fbc40',//媒体转码服务的媒体Id\n              playauth : '',//播放鉴权 [playauth参照](https://help.aliyun.com/document_detail/52833.html?spm=5176.doc51236.6.627.5gm5gf)\n              width: \"640px\",\n              height: \"480px\"\n          });\n     <\/script>\n</body>\n\n### ```![](![https://scratch.mit.edu/projects/217893304/](https://scratch.mit.edu/projects/217893304/))")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);