(window.webpackJsonp=window.webpackJsonp||[]).push([[363],{1664:function(s,n,e){"use strict";e.r(n);var a=e(5),l=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_019-对项目的主从-redis-架构进行-qps-压测以及水平扩容支撑更高-qps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_019-对项目的主从-redis-架构进行-qps-压测以及水平扩容支撑更高-qps"}},[s._v("#")]),s._v(" 019. 对项目的主从 redis 架构进行 QPS 压测以及水平扩容支撑更高 QPS")]),s._v(" "),n("p",[s._v("你如果要对自己刚刚搭建好的 redis 做一个基准的压测，测一下你的 redis 的性能和 QPS（query per second 每秒查询次数）")]),s._v(" "),n("p",[s._v("redis 自己提供的 redis-benchmark 压测工具，是最快捷最方便的，用一些简单的操作和场景去压测（主要是简单）")]),s._v(" "),n("p",[s._v("工具路径：/usr/local/redis-3.2.8/src/redis-benchmark")]),s._v(" "),n("p",[s._v("语法如下，除了下面自带的 三个控制并发，次数，大小等，其他的自带的链接参数也是需要的，如你配置了密码。需要带上 -a redis-pass密码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("./redis-benchmark\n\n-c <clients>       Number of parallel connections (default 50)\n-n <requests>      Total number of requests (default 100000)\n-d <size>          Data size of SET/GET value in bytes (default 2)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("比如：你的高峰期的访问量，在高峰期，瞬时最大用户量会达到 10 万+，供访问 1000万 次，每次 50 byte 数据\n"),n("code",[s._v("-c 100000，-n 10000000，-d 50")])]),s._v(" "),n("p",[s._v("下面是对我的刚才部署好的 redis 测试的数据，这个测试还是需要几分钟时间")]),s._v(" "),n("h2",{attrs:{id:"eshop-cace01-压测数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#eshop-cace01-压测数据"}},[s._v("#")]),s._v(" eshop-cace01 压测数据")]),s._v(" "),n("p",[s._v("1 核 1G，虚拟机，")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("/usr/local/redis-3.2.8/src\n[root@eshop-cache01 src]# ./redis-benchmark -a redis-pass\n以下数据是粘贴的老师的，数据太多，分屏复制都要复制好多次\n====== PING_INLINE ======\n  100000 requests completed in 1.28 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n99.78% <= 1 milliseconds\n99.93% <= 2 milliseconds\n99.97% <= 3 milliseconds\n100.00% <= 3 milliseconds\n78308.54 requests per second\n\n====== PING_BULK ======\n  100000 requests completed in 1.30 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n99.87% <= 1 milliseconds\n100.00% <= 1 milliseconds\n76804.91 requests per second\n\n====== SET ======\n  100000 requests completed in 2.50 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n5.95% <= 1 milliseconds\n99.63% <= 2 milliseconds\n99.93% <= 3 milliseconds\n99.99% <= 4 milliseconds\n100.00% <= 4 milliseconds\n40032.03 requests per second    // 比如这个 set 操作，QPS 为 4 万多\n\n====== GET ======\n  100000 requests completed in 1.30 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n99.73% <= 1 milliseconds\n100.00% <= 2 milliseconds\n100.00% <= 2 milliseconds\n76628.35 requests per second  // 比如这个 get 操作，QPS 为 7 万多\n\n====== INCR ======\n  100000 requests completed in 1.90 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n80.92% <= 1 milliseconds\n99.81% <= 2 milliseconds\n99.95% <= 3 milliseconds\n99.96% <= 4 milliseconds\n99.97% <= 5 milliseconds\n100.00% <= 6 milliseconds\n52548.61 requests per second\n\n====== LPUSH ======\n  100000 requests completed in 2.58 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n3.76% <= 1 milliseconds\n99.61% <= 2 milliseconds\n99.93% <= 3 milliseconds\n100.00% <= 3 milliseconds\n38684.72 requests per second\n\n====== RPUSH ======\n  100000 requests completed in 2.47 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n6.87% <= 1 milliseconds\n99.69% <= 2 milliseconds\n99.87% <= 3 milliseconds\n99.99% <= 4 milliseconds\n100.00% <= 4 milliseconds\n40469.45 requests per second\n\n====== LPOP ======\n  100000 requests completed in 2.26 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n28.39% <= 1 milliseconds\n99.83% <= 2 milliseconds\n100.00% <= 2 milliseconds\n44306.60 requests per second\n\n====== RPOP ======\n  100000 requests completed in 2.18 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n36.08% <= 1 milliseconds\n99.75% <= 2 milliseconds\n100.00% <= 2 milliseconds\n45871.56 requests per second\n\n====== SADD ======\n  100000 requests completed in 1.23 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n99.94% <= 1 milliseconds\n100.00% <= 2 milliseconds\n100.00% <= 2 milliseconds\n81168.83 requests per second\n\n====== SPOP ======\n  100000 requests completed in 1.28 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n99.80% <= 1 milliseconds\n99.96% <= 2 milliseconds\n99.96% <= 3 milliseconds\n99.97% <= 5 milliseconds\n100.00% <= 5 milliseconds\n78369.91 requests per second\n\n====== LPUSH (needed to benchmark LRANGE) ======\n  100000 requests completed in 2.47 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n15.29% <= 1 milliseconds\n99.64% <= 2 milliseconds\n99.94% <= 3 milliseconds\n100.00% <= 3 milliseconds\n40420.37 requests per second\n\n====== LRANGE_100 (first 100 elements) ======\n  100000 requests completed in 3.69 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n30.86% <= 1 milliseconds\n96.99% <= 2 milliseconds\n99.94% <= 3 milliseconds\n99.99% <= 4 milliseconds\n100.00% <= 4 milliseconds\n27085.59 requests per second\n\n====== LRANGE_300 (first 300 elements) ======\n  100000 requests completed in 10.22 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n0.03% <= 1 milliseconds\n5.90% <= 2 milliseconds\n90.68% <= 3 milliseconds\n95.46% <= 4 milliseconds\n97.67% <= 5 milliseconds\n99.12% <= 6 milliseconds\n99.98% <= 7 milliseconds\n100.00% <= 7 milliseconds\n9784.74 requests per second\n\n====== LRANGE_500 (first 450 elements) ======\n  100000 requests completed in 14.71 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n0.00% <= 1 milliseconds\n0.07% <= 2 milliseconds\n1.59% <= 3 milliseconds\n89.26% <= 4 milliseconds\n97.90% <= 5 milliseconds\n99.24% <= 6 milliseconds\n99.73% <= 7 milliseconds\n99.89% <= 8 milliseconds\n99.96% <= 9 milliseconds\n99.99% <= 10 milliseconds\n100.00% <= 10 milliseconds\n6799.48 requests per second\n\n====== LRANGE_600 (first 600 elements) ======\n  100000 requests completed in 18.56 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n0.00% <= 2 milliseconds\n0.23% <= 3 milliseconds\n1.75% <= 4 milliseconds\n91.17% <= 5 milliseconds\n98.16% <= 6 milliseconds\n99.04% <= 7 milliseconds\n99.83% <= 8 milliseconds\n99.95% <= 9 milliseconds\n99.98% <= 10 milliseconds\n100.00% <= 10 milliseconds\n5387.35 requests per second\n\n====== MSET (10 keys) ======\n  100000 requests completed in 4.02 seconds\n  50 parallel clients\n  3 bytes payload\n  keep alive: 1\n\n0.01% <= 1 milliseconds\n53.22% <= 2 milliseconds\n99.12% <= 3 milliseconds\n99.55% <= 4 milliseconds\n99.70% <= 5 milliseconds\n99.90% <= 6 milliseconds\n99.95% <= 7 milliseconds\n100.00% <= 8 milliseconds\n24869.44 requests per second\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br"),n("span",{staticClass:"line-number"},[s._v("180")]),n("br"),n("span",{staticClass:"line-number"},[s._v("181")]),n("br"),n("span",{staticClass:"line-number"},[s._v("182")]),n("br"),n("span",{staticClass:"line-number"},[s._v("183")]),n("br"),n("span",{staticClass:"line-number"},[s._v("184")]),n("br"),n("span",{staticClass:"line-number"},[s._v("185")]),n("br"),n("span",{staticClass:"line-number"},[s._v("186")]),n("br"),n("span",{staticClass:"line-number"},[s._v("187")]),n("br"),n("span",{staticClass:"line-number"},[s._v("188")]),n("br"),n("span",{staticClass:"line-number"},[s._v("189")]),n("br"),n("span",{staticClass:"line-number"},[s._v("190")]),n("br"),n("span",{staticClass:"line-number"},[s._v("191")]),n("br"),n("span",{staticClass:"line-number"},[s._v("192")]),n("br"),n("span",{staticClass:"line-number"},[s._v("193")]),n("br"),n("span",{staticClass:"line-number"},[s._v("194")]),n("br"),n("span",{staticClass:"line-number"},[s._v("195")]),n("br"),n("span",{staticClass:"line-number"},[s._v("196")]),n("br"),n("span",{staticClass:"line-number"},[s._v("197")]),n("br"),n("span",{staticClass:"line-number"},[s._v("198")]),n("br"),n("span",{staticClass:"line-number"},[s._v("199")]),n("br"),n("span",{staticClass:"line-number"},[s._v("200")]),n("br"),n("span",{staticClass:"line-number"},[s._v("201")]),n("br"),n("span",{staticClass:"line-number"},[s._v("202")]),n("br"),n("span",{staticClass:"line-number"},[s._v("203")]),n("br"),n("span",{staticClass:"line-number"},[s._v("204")]),n("br"),n("span",{staticClass:"line-number"},[s._v("205")]),n("br"),n("span",{staticClass:"line-number"},[s._v("206")]),n("br"),n("span",{staticClass:"line-number"},[s._v("207")]),n("br"),n("span",{staticClass:"line-number"},[s._v("208")]),n("br"),n("span",{staticClass:"line-number"},[s._v("209")]),n("br"),n("span",{staticClass:"line-number"},[s._v("210")]),n("br"),n("span",{staticClass:"line-number"},[s._v("211")]),n("br"),n("span",{staticClass:"line-number"},[s._v("212")]),n("br"),n("span",{staticClass:"line-number"},[s._v("213")]),n("br"),n("span",{staticClass:"line-number"},[s._v("214")]),n("br"),n("span",{staticClass:"line-number"},[s._v("215")]),n("br"),n("span",{staticClass:"line-number"},[s._v("216")]),n("br"),n("span",{staticClass:"line-number"},[s._v("217")]),n("br"),n("span",{staticClass:"line-number"},[s._v("218")]),n("br"),n("span",{staticClass:"line-number"},[s._v("219")]),n("br"),n("span",{staticClass:"line-number"},[s._v("220")]),n("br"),n("span",{staticClass:"line-number"},[s._v("221")]),n("br"),n("span",{staticClass:"line-number"},[s._v("222")]),n("br"),n("span",{staticClass:"line-number"},[s._v("223")]),n("br"),n("span",{staticClass:"line-number"},[s._v("224")]),n("br"),n("span",{staticClass:"line-number"},[s._v("225")]),n("br"),n("span",{staticClass:"line-number"},[s._v("226")]),n("br"),n("span",{staticClass:"line-number"},[s._v("227")]),n("br")])]),n("h2",{attrs:{id:"eshop-cace02-压测数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#eshop-cace02-压测数据"}},[s._v("#")]),s._v(" eshop-cace02 压测数据")]),s._v(" "),n("p",[s._v("由于数据太长就不粘贴了")]),s._v(" "),n("h2",{attrs:{id:"redis-支持的-qps-数据说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-支持的-qps-数据说明"}},[s._v("#")]),s._v(" redis 支持的 QPS 数据说明")]),s._v(" "),n("p",[s._v("这个很难给出一个数据，刚才也看到了，这个与机器配置，场景（复制操作？简单操作？数据量大小）都有关系。")]),s._v(" "),n("p",[s._v("如搭建一些集群，专门为某个项目，搭建的专用集群，4 核 4G 内存，比较复杂的操作，数据比较大，几万的 QPS 单机做到，差不多了")]),s._v(" "),n("p",[s._v("一般来说 redis 提供的高并发，至少上万，没问题")]),s._v(" "),n("p",[s._v("看看和那些有关系？")]),s._v(" "),n("ul",[n("li",[s._v("机器配置")]),s._v(" "),n("li",[s._v("操作的复杂度")]),s._v(" "),n("li",[s._v("数据量的大小")]),s._v(" "),n("li",[s._v("网络带宽/网络开销")])]),s._v(" "),n("p",[s._v("所以具体是多少 QPS 需要自己去测试，而且与生产环境可能还不一致，\n因为有大量的网络请求的调用。网络开销等")]),s._v(" "),n("p",[s._v("后面讲到的商品详情页的 cache，可能是需要把大串数据拼接在一起，作为一个 json 串，大小可能都几 KB 了，所以根据环境的不同，QPS 也会不一样")]),s._v(" "),n("h2",{attrs:{id:"水平扩容-redis-读节点-提升吞吐量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#水平扩容-redis-读节点-提升吞吐量"}},[s._v("#")]),s._v(" 水平扩容 redis 读节点，提升吞吐量")]),s._v(" "),n("p",[s._v("就按照上一节课讲解的，再在其他服务器上搭建 redis 从节点，假设单个从节点读请 QPS 在 5 万左右，两个 redis 从节点，所有的读请求打到两台机器上去，承载整个集群读 QPS 在 10万+")])])}),[],!1,null,null,null);n.default=l.exports}}]);