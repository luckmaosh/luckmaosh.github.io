(window.webpackJsonp=window.webpackJsonp||[]).push([[609],{2039:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("ul",[s("li",[s("p",[t._v("HMAC SHA256")])]),t._v(" "),s("li",[s("p",[t._v("Rsa SHA256")])])]),t._v(" "),s("p",[t._v("jwt原理")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/0082zybpgy1gbx9nqlt2tj319b0lvwgz.jpg",alt:""}})]),t._v(" "),s("p",[t._v("图中数字1是后端使用jwt工具包生成的token，通常是由三部分组成，也就是token中间的两个“.”将其分为三部分，第一部分对应的是右边的数字2部分，然后依次对应。")]),t._v(" "),s("p",[t._v("这三部分分别是头部、有效载荷、签名。")]),t._v(" "),s("p",[t._v("头部：alg是指说用到的算法，type当然是令牌类型")]),t._v(" "),s("p",[t._v("有效荷载：sub所签发的用户，name是签发者的姓名，lat是这签发时间，exp是指到期时间，当然还有一些其他的，这些数据都是非必要数据，实则只有exp可能有用，因为有效数据实际都是在data里面，当然你也可以不这么做。")]),t._v(" "),s("p",[t._v("签名：前两者都是通过base64url编码过的，而非是算法加密的，所以几乎是透明的。但是签名是默认是通过hsa256算法加密的 ，加密的规则是：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HMACSHA256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("base64UrlEncode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("base64UrlEncode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("payload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  \nyour"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("secret  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/0082zybpgy1gbx9z8rk5wj31mu0u0q81.jpg",alt:""}})])])}),[],!1,null,null,null);s.default=e.exports}}]);