(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{1568:function(t,s,v){"use strict";v.r(s);var _=v(5),i=Object(_.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_134-商品详情页动态渲染系统-机房与机器的规划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_134-商品详情页动态渲染系统-机房与机器的规划"}},[t._v("#")]),t._v(" 134. 商品详情页动态渲染系统：机房与机器的规划")]),t._v(" "),s("p",[t._v("规划看之前的架构图，这里只是一部分，不包含微服务的，微服务的在后续部署时再规划，里面包含了 spring cloud 的一套组件，要结合那个去规划")]),t._v(" "),s("p",[s("img",{attrs:{src:v(253),alt:""}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("以下机器规划非实际生产，由于本地电脑内存有限，尽量模拟真实的，\n会把一些能放一起的合并起来。")]),t._v(" "),s("p",[t._v("但是并不表示在生产环境中也是这样规划，肯定要更多的机器")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("负载均衡：2 台机器")]),t._v(" "),s("p",[t._v("lvs + keepalived 双机搞可用")])]),t._v(" "),s("li",[s("p",[t._v("两个机房，一机房一台：共 2 台")]),t._v(" "),s("p",[t._v("分发层 nginx + 应用层 nginx + 缓存从集群")])]),t._v(" "),s("li",[s("p",[t._v("缓存主集群：放在上面两个机房上")]),t._v(" "),s("p",[t._v("在实际生成环境中，的确可能会在相同机房，但是肯定是多机器")])]),t._v(" "),s("li",[s("p",[t._v("缓存集群分片中间件：与缓存集群部署在一起")])]),t._v(" "),s("li",[s("p",[t._v("rabbitmq 和 mysql：1 台机器")])])]),t._v(" "),s("p",[t._v("总共需要 5 台虚拟机")])])}),[],!1,null,null,null);s.default=i.exports},253:function(t,s,v){t.exports=v.p+"assets/img/markdown-img-paste-20190714174433377.eedd9d2b.png"}}]);